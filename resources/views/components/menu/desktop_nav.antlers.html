<ul class="flex space-x-3">
    {{ nav:main_menu }}
    {{ if slug != "profile" }}
    <li class="relative" x-data="{ open: false, timeout: null }">
        {{ if children }}
            <!-- Parent (Not Clickable) -->
            <div @mouseenter="clearTimeout(timeout); open = true"
                @mouseleave="timeout = setTimeout(() => open = false, 300)"
                class="cursor-pointer text-gray-700 hover:text-dataphyteblue font-medium text-base flex items-center">
                {{ title }}
                <!-- Dropdown Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 ml-1" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd"
                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                        clip-rule="evenodd" />
                </svg>
            </div>
        {{ else }}
            <!-- Regular Clickable Parent -->
            <a href="{{ logo:homelink }}{{ url }}" class="text-gray-700 hover:text-dataphyteblue font-medium text-base flex items-center">
                {{ title }}
            </a>
        {{ /if }}

        <!-- Dropdown Menu -->
        {{ if children }}
        <ul class="absolute hidden bg-white shadow-lg rounded-md mt-2 w-56 z-10"
            :class="{ 'block': open, 'hidden': !open }" 
            @mouseenter="clearTimeout(timeout); open = true"
            @mouseleave="timeout = setTimeout(() => open = false, 300)">
            {{ children }}
            <li>
                <a href="{{ logo:homelink }}{{ url }}"
                    class="block px-5 py-2 text-base text-gray-500 hover:text-dataphyteblue hover:bg-gray-200">
                    {{ title }}
                </a>
            </li>
            {{ /children }}
        </ul>
        {{ /if }}
    </li>
    {{ /if }}
    {{ /nav:main_menu }}
</ul>