<div class="relative" x-data="{ open: false }">
    <!-- Search Button -->
    <button @click="open = !open"
        class="flex items-center justify-center w-10 h-10 text-white bg-dataphyteblue rounded-full hover:bg-gray-300 hover:text-dataphyteblue transition">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="15" height="15" fill="currentColor">
            <path d="M6,8c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM12,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM6,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM6,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM12,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM16,6c0,1.1 0.9,2 2,2s2,-0.9 2,-2 -0.9,-2 -2,-2 -2,0.9 -2,2zM12,8c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM18,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM18,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2z"/>
        </svg>
    </button>

    <!-- Dropdown Content -->
    <div x-show="open" @click.away="open = false"
        class="absolute right-0 mt-2 w-64 bg-white shadow-lg rounded-md py-4 px-3 z-50">
        
        <!-- Search Input -->
        <form action="/search" class="relative">
            <input type="search" name="q"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-dataphyteblue focus:border-dataphyteblue outline-none"
                placeholder="Search for article" autofocus>
            
            <!-- Search Icon Inside Input -->
            <button type="submit" class="absolute right-3 top-2 text-gray-500">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M21.71 20.29l-4.37-4.37a8 8 0 1 0-1.41 1.41l4.37 4.37a1 1 0 0 0 1.41-1.41zM10 16a6 6 0 1 1 6-6 6 6 0 0 1-6 6z"/>
                </svg>
            </button>
        </form>

        <!-- Links (if needed) -->
        <div class="mt-4 space-y-2">
            {{ nav:app_products_list }}
            <a href="{{ url }}" target="_blank" 
                class="flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md transition">
                <i class="w-4 h-4 text-gray-600 mr-2">{{ icon }}</i>
                {{ title }}
            </a>
            {{ /nav:app_products_list }}
        </div>
    </div>
</div>
